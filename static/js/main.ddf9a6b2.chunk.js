(this["webpackJsonpfood-order-app"]=this["webpackJsonpfood-order-app"]||[]).push([[0],{27:function(e,n,t){"use strict";t.r(n);var r,c,o,a,i,d,s,l,b,j,u,m,h,x,O,p,f,g,w,v,y,k,C,I,H,A,S,M,E,N,z,F,V,B,T,D,R,P,_,J,$=t(1),L=t.n($),Y=t(7),Q=t.n(Y),W=t(4),X=t(2),Z=t(3),q=Object(Z.a)(r||(r=Object(X.a)(['\n* {\n  font-family: "Open Sans", sans-serif;\n}\nbody {\n    margin: 0;\n    padding: 0;\n    background: #41403f;\n  }\n']))),G=t(0),K=Z.b.button(c||(c=Object(X.a)(["\n  font-weight: bold;\n  color: white;\n  width: 5rem;\n  padding: 0.5rem;\n  border-radius: 20px;\n  border: none;\n  outline: none;\n  background-color: #5f3028;\n  cursor: pointer;\n  transition: background-color 0.5s;\n  &:hover {\n    background-color: #ad3824;\n  }\n  &:focus {\n    background-color: #ad3824;\n  }\n"]))),U=function(e){var n=e.children,t=e.className,r=e.type,c=e.onClick,o=e.disabled;return Object(G.jsx)(K,{className:t,type:r||"button",onClick:c,disabled:o,children:n})},ee=L.a.createContext({items:[],totalAmount:0,addItem:function(){},removeItem:function(){},clearCart:function(){}}),ne=Object(Z.b)(U)(o||(o=Object(X.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 9rem;\n  margin: 1rem;\n"]))),te=Z.b.div(a||(a=Object(X.a)(["\n  border-radius: 10px;\n  background-color: tomato;\n  width: 1.5rem;\n  padding: 0.1rem;\n"]))),re=function(e){var n=e.onShowModalHandler,t=Object($.useContext)(ee).items.reduce((function(e,n){return e+n.amount}),0);return Object(G.jsx)($.Fragment,{children:Object(G.jsxs)(ne,{onClick:n,children:[Object(G.jsx)("div",{children:Object(G.jsx)("i",{className:"fas fa-shopping-cart"})}),Object(G.jsx)("div",{children:"Cart"}),Object(G.jsx)(te,{children:t})]})})},ce=Z.b.section(i||(i=Object(X.a)(["\n  position: absolute;\n  top: 10rem;\n  left: 50%;\n  transform: translate(-50%, 50%);\n  overflow: hidden;\n  width: 80%;\n  max-width: 40rem;\n  color: tomato;\n  background-color: #000000cf;\n  border-radius: 10px;\n  padding: 1rem;\n  text-align: center;\n\n  @media (max-width: 600px) {\n    padding: 0.5rem;\n    top: 8rem;\n    width: 85%;\n  }\n"]))),oe=Z.b.p(d||(d=Object(X.a)(["\n  font-size: 0.8rem;\n  color: white;\n"]))),ae=function(){return Object(G.jsxs)(ce,{children:[Object(G.jsx)("h3",{children:"Welcome to the best restaurant of the world"}),Object(G.jsx)(oe,{children:"Choose your dreaming food and add it to your cart !"}),Object(G.jsx)(oe,{children:"Our best chefs will make delicious dishes for you !"}),Object(G.jsx)(oe,{children:"Sit back and we will take care of your order as soon as possible !"})]})},ie=Z.b.nav(s||(s=Object(X.a)(["\n  position: fixed;\n  bottom: 1;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: space-between;\n  background-color: #000000;\n  z-index: 1;\n"]))),de=Z.b.h1(l||(l=Object(X.a)(["\n  margin-left: 1rem;\n  font-weight: 900;\n  color: tomato;\n"]))),se=Z.b.section(b||(b=Object(X.a)(["\n  width: 100%;\n  height: 22rem;\n  z-index: 0;\n  overflow: hidden;\n"]))),le=Z.b.img(j||(j=Object(X.a)(["\n  width: 110%;\n  height: 100%;\n  object-fit: cover;\n  transform: rotateZ(-4deg) translateY(-4rem) translateX(-1rem);\n"]))),be=function(e){var n=e.onShowModalHandler;return Object(G.jsxs)($.Fragment,{children:[Object(G.jsxs)(ie,{children:[Object(G.jsx)(de,{children:"Food Order App"}),Object(G.jsx)(re,{onShowModalHandler:n})]}),Object(G.jsx)(se,{children:Object(G.jsx)(le,{src:"https://nessarestaurant.com/wp-content/uploads/2018/11/Restaurant-Food.jpg",alt:"Restaurant Image"})}),Object(G.jsx)(ae,{})]})},je=t(6),ue=t.n(je),me=t(11),he=Z.b.div(u||(u=Object(X.a)(["\n  background: white;\n  border-radius: 10px;\n  width: 80%;\n  margin-top: 7rem;\n"]))),xe=function(e){var n=e.children,t=e.className,r=e.id;return Object(G.jsx)(he,{className:t,id:r,children:n})},Oe=Z.b.label(m||(m=Object(X.a)(["\n  font-weight: bold;\n  color: #c72d12;\n"]))),pe=function(e){var n=e.children,t=e.className;return Object(G.jsx)(Oe,{className:t,children:n})},fe=Z.b.div(h||(h=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"]))),ge=function(e){var n=e.children,t=e.className;return Object(G.jsx)(fe,{className:t,children:n})},we=t(5),ve=Z.b.input(x||(x=Object(X.a)(["\n  width: 3rem;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n  background: #ff6347ca;\n  color: #ffffff;\n  font-weight: bold;\n  text-align: center;\n  cursor: pointer;\n  margin-left: 5px;\n"]))),ye=function(e){var n=e.input,t=e.children,r=e.id,c=e.label;return Object(G.jsxs)(ge,{children:[Object(G.jsx)(pe,{htmlFor:r,children:c}),Object(G.jsx)(ve,Object(we.a)(Object(we.a)({id:r},n),{},{children:t}))]})},ke=Object(Z.b)(ge)(O||(O=Object(X.a)(["\n  align-items: center;\n  margin-bottom: 20px;\n"]))),Ce=function(e){var n=e.id,t=e.onAddItem,r=Object($.useState)(1),c=Object(W.a)(r,2),o=c[0],a=c[1],i=Object($.useState)(!0),d=Object(W.a)(i,2),s=d[0],l=d[1];return Object(G.jsx)("form",{action:"",children:Object(G.jsxs)(ke,{children:[Object(G.jsx)(ye,{label:"Amount:",input:{id:"totalAmount"+n,type:"number",min:"1",max:"5",step:"1",value:o,onChange:function(e){a(e.target.value)}}}),Object(G.jsx)(U,{onClick:function(e){(e.preventDefault(),o<1||o>5)?l(!1):t(+o)},children:"Add"}),!s&&Object(G.jsx)("p",{children:"Amount have to be between 1-5"})]})})},Ie=Z.b.li(p||(p=Object(X.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: white;\n  border-bottom: 2px solid tomato;\n  margin: 1rem 2rem 1rem 0;\n\n  @media (max-width: 600px) {\n    font-size: 0.7rem;\n    margin: 0.3rem 1.2rem 0.3rem -1rem;\n  }\n"]))),He=Z.b.div(f||(f=Object(X.a)(["\n  font-size: 0.7rem;\n  margin-bottom: 10px;\n  font-style: italic;\n"]))),Ae=function(e){var n=e.title,t=e.desc,r=e.price,c=e.id,o=Object($.useContext)(ee),a="$".concat(r.toFixed(2));return Object(G.jsxs)(Ie,{children:[Object(G.jsxs)(ge,{children:[Object(G.jsx)(pe,{children:n}),Object(G.jsx)(He,{children:t}),Object(G.jsx)(pe,{children:a})]}),Object(G.jsx)(Ce,{id:c,onAddItem:function(e){o.addItem({key:c,id:c,title:n,price:r,amount:e})}})]})},Se=Z.b.p(g||(g=Object(X.a)(["\n  text-align: center;\n  color: red;\n"]))),Me=function(){var e=Object($.useState)([]),n=Object(W.a)(e,2),t=n[0],r=n[1],c=Object($.useState)(!0),o=Object(W.a)(c,2),a=o[0],i=o[1],d=Object($.useState)(null),s=Object(W.a)(d,2),l=s[0],b=s[1],j=Object($.useCallback)(Object(me.a)(ue.a.mark((function e(){var n,t,c,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),b(null),e.prev=2,e.next=5,fetch("https://food-order-app-5f14c-default-rtdb.europe-west1.firebasedatabase.app/meals.json");case 5:if((n=e.sent).ok){e.next=8;break}throw new Error("something went wrong (try again)");case 8:return e.next=10,n.json();case 10:for(o in t=e.sent,c=[],t)c.push({id:o,title:t[o].title,desc:t[o].description,price:t[o].price});r(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),b(e.t0.message);case 19:i(!1),console.log("runnig");case 21:case"end":return e.stop()}}),e,null,[[2,16]])}))),[]);return Object($.useEffect)((function(){j()}),[j]),Object(G.jsxs)(xe,{children:[l&&Object(G.jsx)(Se,{children:l}),a&&Object(G.jsx)(Se,{children:"Loading ... "}),Object(G.jsx)("ul",{children:t.map((function(e){return Object(G.jsx)(Ae,{id:e.id,title:e.title,desc:e.desc,price:e.price},e.id)}))})]})},Ee=Object(Z.c)(w||(w=Object(X.a)(["\n     from {opacity: 0;}\n     to {opacity: 1;}\n"]))),Ne=Z.b.div(v||(v=Object(X.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 300%;\n  background: rgba(0, 0, 0, 0.75);\n  z-index: 5;\n  animation: "," 2s;\n"])),Ee),ze=function(e){var n=e.onHideModalHandler;return Object(G.jsx)(Ne,{onClick:n})},Fe=Z.b.button(y||(y=Object(X.a)(["\n  font-weight: bold;\n  color: #c72d12;\n  width: 2.5rem;\n  padding: 0.2rem;\n  border-radius: 5px;\n  border: 1px solid brown;\n  outline: none;\n  background-color: #ffffff;\n  cursor: pointer;\n  transition: background-color 0.5s;\n\n  &:hover {\n    color: #000000;\n    background-color: #b6b6b6b1;\n  }\n\n  &:focus {\n    background-color: #c9c9c9b1;\n  }\n"]))),Ve=function(e){var n=e.children,t=e.className,r=e.type,c=e.onClick;return Object(G.jsx)(Fe,{className:t,type:r||"button",onClick:c,children:n})},Be=function(e){var n=Object($.useState)(""),t=Object(W.a)(n,2),r=t[0],c=t[1],o=Object($.useState)(!1),a=Object(W.a)(o,2),i=a[0],d=a[1],s=e(r);return{inputValue:r,isTouched:i,isValid:s,hasError:!s&&i,onChangeInputHandler:function(e){c(e.target.value)},onBlurInputHandler:function(){d(!0)},clearInput:function(){c(""),d(!1)}}},Te=Object(Z.c)(k||(k=Object(X.a)(["\n    from {opacity: 0;}\n    to {opacity: 1;}\n"]))),De=Z.b.section(C||(C=Object(X.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 0 2em 0 2em;\n  animation: "," 1s;\n\n  @media (max-width: 600px) {\n    font-size: 12px;\n  }\n"])),Te),Re=Z.b.input(I||(I=Object(X.a)(["\n  width: 70%;\n  outline: none;\n  border: ",";\n  background: ",";\n  border-radius: 5px;\n  font-weight: bold;\n  text-align: center;\n  cursor: pointer;\n  margin-left: 5px;\n"])),(function(e){return e.error?"1px solid red":"1px solid rgba(197, 196, 196, 0.973)"}),(function(e){return e.error?"#ff00004e":"none"})),Pe=Z.b.p(H||(H=Object(X.a)(["\n  color: #ff0000df;\n  font-size: 12px;\n  text-align: end;\n  margin: 0 3em 0 0;\n\n  @media (max-width: 600px) {\n    font-size: 7px;\n  }\n"]))),_e=Z.b.section(A||(A=Object(X.a)(["\n  text-align: center;\n  margin: 1em 0 1em 0;\n  animation: "," 1s;\n"])),Te),Je=Object(Z.b)(U)(S||(S=Object(X.a)(["\n  &:disabled {\n    background-color: #ccc;\n    color: #292929;\n    border-color: #ccc;\n    cursor: not-allowed;\n  }\n"]))),$e=function(e){var n=e.onAddNewOrder,t=/\d/,r=Be((function(e){return""!==e.trim()&&e.length>2})),c=r.inputValue,o=r.isValid,a=r.hasError,i=r.onChangeInputHandler,d=r.onBlurInputHandler,s=r.clearInput,l=Be((function(e){return""!==e.trim()&&e.length>3&&t.test(e)})),b=l.inputValue,j=l.isValid,u=l.hasError,m=l.onChangeInputHandler,h=l.onBlurInputHandler,x=l.clearInput,O=Be((function(e){return 6==e.length&&e.includes("-")&&t.test(e)})),p=O.inputValue,f=O.isValid,g=O.hasError,w=O.onChangeInputHandler,v=O.onBlurInputHandler,y=O.clearInput,k=Be((function(e){return 9==e.length})),C=k.inputValue,I=k.isValid,H=k.hasError,A=k.onChangeInputHandler,S=k.onBlurInputHandler,M=k.clearInput,E=!1;o&&j&&f&&I&&(E=!0);return Object(G.jsx)("form",{action:"",children:Object(G.jsxs)(ge,{children:[Object(G.jsxs)(De,{children:[Object(G.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(G.jsx)(Re,{error:a,type:"text",id:"name",onChange:i,onBlur:d,value:c})]}),a&&Object(G.jsx)(Pe,{children:"name must be longer than 2 letters"}),Object(G.jsxs)(De,{children:[Object(G.jsx)("label",{htmlFor:"adress",children:"Adress:"}),Object(G.jsx)(Re,{error:u,type:"text",id:"adress",placeholder:"Street Number",onChange:m,onBlur:h,value:b})]}),u&&Object(G.jsx)(Pe,{children:"Adress must be longer than 4 letters and must have number"}),Object(G.jsxs)(De,{children:[Object(G.jsx)("label",{htmlFor:"zip",children:"Post Code:"}),Object(G.jsx)(Re,{error:g,type:"text",id:"zip",placeholder:"xx-xxx",onChange:w,onBlur:v,value:p})]}),g&&Object(G.jsx)(Pe,{children:"Post code must contain 5 numbers"}),Object(G.jsxs)(De,{children:[Object(G.jsx)("label",{htmlFor:"telephone",children:"Telephone:"}),Object(G.jsx)(Re,{error:H,type:"tel",id:"telephone",placeholder:"xxx-xxx-xxx",onChange:A,onBlur:S,value:C})]}),H&&Object(G.jsx)(Pe,{children:"Phone number must contain 9 numbers"}),Object(G.jsx)(_e,{children:Object(G.jsx)(Je,{disabled:!E,onClick:function(e){(e.preventDefault(),o&&j&&f&&I)&&(n({userName:c,adress:b,zipCode:p,phoneNumber:C}),console.log("form is subbmited"),s(),x(),y(),M())},children:"Submit"})})]})})},Le=Z.b.section(M||(M=Object(X.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 2em;\n  font-size: 1.2rem;\n  font-weight: bold;\n\n  @media (max-width: 600px) {\n    margin: 1em;\n  }\n"]))),Ye=Z.b.section(E||(E=Object(X.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin: 1em;\n"]))),Qe=Object(Z.b)(Ve)(N||(N=Object(X.a)(["\n  margin-right: 5px;\n  width: 5rem;\n  border-radius: 20px;\n"]))),We=Z.b.p(z||(z=Object(X.a)(["\n  color: red;\n  text-align: center;\n  font-size: 12px;\n"]))),Xe=Z.b.p(F||(F=Object(X.a)(["\n  color: tomato;\n  text-align: center;\n"]))),Ze=function(e){var n=e.onHideModalHandler,t=Object($.useContext)(ee),r=Object($.useState)(!1),c=Object(W.a)(r,2),o=c[0],a=c[1],i=Object($.useState)(null),d=Object(W.a)(i,2),s=d[0],l=d[1],b=Object($.useState)(!1),j=Object(W.a)(b,2),u=j[0],m=j[1],h=Object($.useState)(!1),x=Object(W.a)(h,2),O=x[0],p=x[1],f=function(){var e=Object(me.a)(ue.a.mark((function e(n){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(null),m(!1),!(t.totalAmount>0)){e.next=22;break}return p(!0),e.prev=4,e.next=7,fetch("https://food-order-app-5f14c-default-rtdb.europe-west1.firebasedatabase.app/orders.json",{method:"POST",body:JSON.stringify({id:n.userName+" "+Math.random(),usersData:n,orderData:t.items}),headers:{"Content-Type":"application/json"}});case 7:if(e.sent.ok){e.next=12;break}throw new Error("something went wrong, try again");case 12:m(!0);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),l(e.t0.message);case 18:p(!1),t.clearCart(),e.next=24;break;case 22:m(!1),l("Add something to your Cart !");case 24:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(n){return e.apply(this,arguments)}}(),g="".concat(t.totalAmount.toFixed(2),"$"),w=Object(G.jsxs)(Ye,{children:[Object(G.jsx)(Qe,{onClick:n,children:"Close"}),Object(G.jsx)(U,{onClick:function(){a(!0)},children:"Order"})]}),v=Object(G.jsxs)($.Fragment,{children:[Object(G.jsx)(Xe,{children:"Thank you for order !"}),Object(G.jsx)(Ye,{children:Object(G.jsx)(Qe,{onClick:n,children:"Close"})})]}),y=Object(G.jsxs)($.Fragment,{children:[Object(G.jsxs)(Le,{children:[Object(G.jsx)("span",{children:"Total:"}),Object(G.jsx)("span",{children:g})]}),s&&Object(G.jsx)(We,{children:s}),O&&Object(G.jsx)(Xe,{children:"Sending Your Order ..."}),o&&!u&&Object(G.jsx)($e,{onAddNewOrder:f}),!o&&w]});return Object(G.jsx)("footer",{children:u?v:y})},qe=Z.b.li(V||(V=Object(X.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: white;\n  border-bottom: 2px solid tomato;\n  margin: 1rem 2rem 1rem 0;\n\n  @media (max-width: 600px) {\n    font-size: 12px;\n    margin: 0.3rem 1.2rem 0.3rem -1rem;\n  }\n"]))),Ge=Object(Z.b)(ge)(B||(B=Object(X.a)(["\n  flex-direction: row;\n  align-items: center;\n"]))),Ke=Object(Z.b)(pe)(T||(T=Object(X.a)(["\n  color: black;\n"]))),Ue=Z.b.div(D||(D=Object(X.a)(["\n  border: 1px solid brown;\n  border-radius: 5px;\n  padding: 2.5px 5px;\n  font-size: 0.7rem;\n  font-weight: bold;\n  color: #c72d12;\n"]))),en=function(e){var n=e.title,t=e.price,r=e.amount,c=e.onAdd,o=e.onRemove;return Object(G.jsxs)(qe,{children:[Object(G.jsxs)(ge,{children:[Object(G.jsx)(pe,{children:n}),Object(G.jsx)(Ke,{children:"".concat(t,"$")})]}),Object(G.jsxs)(Ge,{children:[Object(G.jsx)(pe,{children:"Quantity:"}),Object(G.jsx)(Ue,{children:r})]}),Object(G.jsxs)(Ge,{children:[Object(G.jsx)(Ve,{onClick:o,children:"-"}),Object(G.jsx)(Ve,{onClick:c,children:"+"})]})]})},nn=Object(Z.c)(R||(R=Object(X.a)(["\n    from {top: -300px;}\n    to {top: 5vh;}\n"]))),tn=Object(Z.b)(xe)(P||(P=Object(X.a)(["\n  position: fixed;\n  top: 5vh;\n  left: 28%;\n  overflow: hidden;\n  width: 80%;\n  max-width: 35em;\n  z-index: 25;\n  animation: "," 1s;\n\n  @media (max-width: 600px) {\n    max-height: 35em;\n    left: 10%;\n  }\n"])),nn),rn=Z.b.ul(_||(_=Object(X.a)(["\n  max-height: 10em;\n  overflow: scroll;\n"]))),cn=function(e){var n=e.onHideModalHandler,t=Object($.useContext)(ee),r=function(e){t.addItem(Object(we.a)(Object(we.a)({},e),{},{amount:1}))},c=function(e){t.removeItem(e)};return Object(G.jsxs)(tn,{children:[Object(G.jsx)(rn,{children:t.items.map((function(e){return Object(G.jsx)(en,{id:e.id,title:e.title,price:e.price,amount:e.amount,onRemove:c.bind(null,e.id),onAdd:r.bind(null,e)},e.id)}))}),Object(G.jsx)(Ze,{onHideModalHandler:n})]})},on=function(e){var n=e.onHideModalHandler,t=document.getElementById("modal-root");return Object(G.jsxs)($.Fragment,{children:[Q.a.createPortal(Object(G.jsx)(ze,{onHideModalHandler:n}),t),Q.a.createPortal(Object(G.jsx)(cn,{onHideModalHandler:n}),t)]})},an=t(14),dn={items:[],totalAmount:0},sn=function(e,n){if("ADD_ITEM"===n.type){var t,r=e.totalAmount+n.item.price*n.item.amount,c=e.items.findIndex((function(e){return e.id===n.item.id})),o=e.items[c];if(o){var a=Object(we.a)(Object(we.a)({},o),{},{amount:o.amount+n.item.amount});(t=Object(an.a)(e.items))[c]=a}else t=e.items.concat(n.item);return{items:t,totalAmount:r}}if("REMOVE_ITEM"===n.type){var i,d=e.items.findIndex((function(e){return e.id===n.id})),s=e.items[d],l=e.totalAmount-s.price;if(1===s.amount)i=e.items.filter((function(e){return e.id!==n.id}));else{var b=Object(we.a)(Object(we.a)({},s),{},{amount:s.amount-1});(i=Object(an.a)(e.items))[d]=b}return{items:i,totalAmount:l}}return n.type,dn},ln=function(e){var n=Object($.useReducer)(sn,dn),t=Object(W.a)(n,2),r=t[0],c=t[1],o={items:r.items,totalAmount:r.totalAmount,addItem:function(e){c({type:"ADD_ITEM",item:e})},removeItem:function(e){c({type:"REMOVE_ITEM",id:e})},clearCart:function(){c({type:"CLEAR_ITEMS"})}};return Object(G.jsx)(ee.Provider,{value:o,children:e.children})},bn=Z.b.div(J||(J=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"])));var jn=function(){var e=Object($.useState)(!1),n=Object(W.a)(e,2),t=n[0],r=n[1];return Object(G.jsxs)(ln,{children:[Object(G.jsx)(q,{}),t&&Object(G.jsx)(on,{onHideModalHandler:function(){r(!1)}}),Object(G.jsx)(be,{onShowModalHandler:function(){r(!0)}}),Object(G.jsx)(bn,{children:Object(G.jsx)(Me,{})})]})};Q.a.render(Object(G.jsx)(L.a.StrictMode,{children:Object(G.jsx)(jn,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.ddf9a6b2.chunk.js.map